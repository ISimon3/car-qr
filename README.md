# 隐私挪车通知二维码 (高可用DIY版)

这是一个基于 **服务器自部署** + **GitHub Pages 灾备** + **Server酱 推送** 实现的免费、高可用、保护隐私的挪车通知二维码项目。

当他人需要您挪车时，只需用微信扫描车上的二维码。系统会**优先访问您的个人服务器**，如果服务器因故无法访问，它会自动、无缝地切换到 GitHub Pages 上的备用页面，确保挪车通知功能 **永不掉线**。

## ✨ 功能特性

- **高可用性 (High Availability)**：采用主备双服务器架构，一个二维码链接，双重保障。
- **极致访问速度**：优先使用您自己的服务器，国内访问快速稳定。
- **强力隐私保护**：不暴露任何个人电话号码或联系方式。
- **实时通知**：通过微信服务通知，实时接收挪车请求。
- **支持留言**：对方可以输入挪车原因，方便您了解情况。
- **界面纯净**：无任何广告或无关弹窗。
- **完全由您掌控**：代码、服务器、域名都在您的控制之下。

## 🏛️ 系统架构

![系统架构图](https://github.com/ISimon3/car-qr/blob/main/Renderingimage.png)

1.  **二维码** 指向一个部署在 GitHub Pages 上的**智能路由页 (`index.html`)**。
2.  路由页通过JS代码，在3秒内尝试访问**主服务器页面 (`https://www.simonius.cn/car/`)**。
    - **若成功**：立即跳转至主服务器页面。
    - **若失败 (超时或错误)**：立即跳转至部署在 GitHub Pages 上的**备用页面 (`app.html`)**。
3.  无论访问哪个页面，点击通知按钮后，都会调用 **Server酱** API，将消息推送到您的微信。

## 🛠️ 完整创建步骤

### 第一步：获取 Server酱 推送 Key

这是接收微信通知的核心服务。

1.  **访问并登录**：前往 [Server酱官网](http.sc.ftqq.com/)，使用您的 GitHub 账号登录。
2.  **配置通道**：在官网的「通道配置」页面，按指引扫描二维码关注并绑定您的微信。
3.  **获取SendKey**：在「发送消息」页面，复制您的专属 `SendKey` (以 `SCT` 开头的密钥)，并妥善保管。

### 第二步：部署核心挪车页面 (`app.html`)

我们将核心的功能页面同时部署在两个地方：您的个人服务器和GitHub。

1.  **准备页面代码**：
    - 从本仓库获取 `app.html` 的[完整代码](https://github.com/isimon3/car-qr/blob/main/app.html)。 <!-- 链接会自动适配 -->
    - 在代码中找到 `const sendKey = '你的SendKey粘贴在这里';` 这一行，将其中的占位符替换为您在第一步获取的真实 `SendKey`。

2.  **部署到个人服务器 (主)**：
    - 将修改好的 `app.html` 文件上传到您个人服务器的Web目录下，例如 `/var/www/html/car/`，并确保可以通过 `https://www.simonius.cn/car/app.html` 访问。
    - **建议**：为了URL更美观，您可以将服务器上的文件名直接改为 `index.html`，这样就可以通过 `https://www.simonius.cn/car/` 访问。

3.  **部署到GitHub Pages (备)**：
    - 在您的GitHub仓库中，确保 `app.html` 文件存在且代码已更新为包含您 `SendKey` 的版本。

### 第三步：部署智能路由页 (`index.html`)

这个页面是整个高可用方案的关键。

1.  **创建/更新 `index.html`**：
    - 在您的GitHub仓库根目录，创建或编辑 `index.html` 文件。
    - 将本仓库中 `index.html` 的[路由代码](https://github.com/isimon3/car-qr/blob/main/index.html)完整复制进去。 <!-- 链接会自动适配 -->
2.  **配置地址**：
    - 检查代码中的 `primaryUrl` (主地址) 和 `fallbackUrl` (备用地址) 是否正确指向您在第二步中部署的两个页面。

### 第四步：启用 GitHub Pages 并生成二维码

1.  **启用 Pages**：
    - 在仓库的 `Settings` -> `Pages` 中，选择 `main` 分支并保存，启用GitHub Pages。
    - 您将获得一个格式为 `https://<你的用户名>.github.io/<你的仓库名>/` 的地址，这个地址就是您**最终的、唯一的入口**。

2.  **生成二维码**：
    - 使用上面获取的 GitHub Pages 地址，前往任意二维码生成网站（如[草料二维码](https://cli.im/)）生成您最终的挪车二维码。

3.  **打印并放置**：下载高清二维码图片，打印并放置在您的车内。

---

**恭喜！您已成功构建并部署了一个企业级的、具备高可用灾备能力的隐私挪车码！**
